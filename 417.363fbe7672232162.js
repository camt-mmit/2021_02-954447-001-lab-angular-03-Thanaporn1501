"use strict";(self.webpackChunkmy_ng3=self.webpackChunkmy_ng3||[]).push([[417],{6417:(Se,b,c)=>{c.r(b),c.d(b,{GoogleModule:()=>ke});var u=c(9808),f=c(4354),e=c(7587),v=c(3900),p=c(9646),m=c(4004),_=c(3001),E=c(1135),F=c(4671),L=c(4482),J=c(5403);function I(o,r){return o===r}var O=c(2076),M=c(7579),R=c(6063);class Q extends M.x{constructor(r=1/0,t=1/0,n=R.l){super(),this._bufferSize=r,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,t)}next(r){const{isStopped:t,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:l}=this;t||(n.push(r),!i&&n.push(s.now()+l)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:i}=this,s=i.slice();for(let l=0;l<s.length&&!r.closed;l+=n?1:2)r.next(s[l]);return this._checkFinalizedStatuses(r),t}_trimBuffer(){const{_bufferSize:r,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:i}=this,s=(i?1:2)*r;if(r<1/0&&s<n.length&&n.splice(0,n.length-s),!i){const l=t.now();let g=0;for(let d=1;d<n.length&&n[d]<=l;d+=2)g=d;g&&n.splice(0,g+1)}}}var Y=c(3099),y=c(262);function G(o,r,t,n,i,s,l){try{var g=o[s](l),d=g.value}catch(Ue){return void t(Ue)}g.done?r(d):Promise.resolve(d).then(n,i)}function j(o){return function(){var r=this,t=arguments;return new Promise(function(n,i){var s=o.apply(r,t);function l(d){G(s,n,i,l,g,"next",d)}function g(d){G(s,n,i,l,g,"throw",d)}l(void 0)})}}function q(o){const r=new Uint32Array(o/2);return crypto.getRandomValues(r),Array.from(r,t=>("0"+t.toString(16)).slice(-2)).join("")}function T(){return(T=j(function*(o){const t=(new TextEncoder).encode(o);return crypto.subtle.digest("SHA-256",t)})).apply(this,arguments)}var C=c(520);const A="google-token",k="google-code-verifier",U="google-security-token",S="https://oauth2.googleapis.com/token";let Z=(()=>{class o{constructor(t,n,i){this.configuration=t,this.http=n,this.router=i,this.tokenReadySubject=new E.X(null),this.tokenData=null,this.tokenReady$=this.tokenReadySubject.asObservable().pipe(function P(o,r=F.y){return o=null!=o?o:I,(0,L.e)((t,n)=>{let i,s=!0;t.subscribe(new J.Q(n,l=>{const g=r(l);(s||!o(i,g))&&(s=!1,i=g,n.next(l))}))})}());const s=localStorage.getItem(A);s&&(this.tokenData=JSON.parse(s)),this.codeVerifier=q(56),this.codeChallenge$=(0,O.D)(function B(o){return T.apply(this,arguments)}(this.codeVerifier)).pipe((0,m.U)(l=>function z(o){return function D(o){let r="",t=new Uint8Array(o),n=t.byteLength;for(var i=0;i<n;i++)r+=String.fromCharCode(t[i]);return btoa(r)}(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}(l)),function $(o,r,t){var n,i;let s,l=!1;return o&&"object"==typeof o?(s=null!==(n=o.bufferSize)&&void 0!==n?n:1/0,r=null!==(i=o.windowTime)&&void 0!==i?i:1/0,l=!!o.refCount,t=o.scheduler):s=null!=o?o:1/0,(0,Y.B)({connector:()=>new Q(s,r,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}(1)),this.getAccessToken().subscribe(()=>this.emmitTokenReadyEvent())}emmitTokenReadyEvent(){this.tokenReadySubject.next(!!this.tokenData)}setTokenData(t){var n;return null===t?localStorage.removeItem(A):(!t.refresh_token&&(null===(n=this.tokenData)||void 0===n?void 0:n.refresh_token)&&(t.refresh_token=this.tokenData.refresh_token),t.expires||(t.expires=(new Date).getTime()+1e3*(t.expires_in-10)),localStorage.setItem(A,JSON.stringify(t))),this.tokenData=t,this.emmitTokenReadyEvent(),(0,p.of)(this.tokenData)}refresh(){var t;return(null===(t=this.tokenData)||void 0===t?void 0:t.refresh_token)?this.http.post(S,{client_id:this.configuration.client_id,client_secret:this.configuration.client_secret,grant_type:"refresh_token",refresh_token:this.tokenData.refresh_token}).pipe((0,y.K)(n=>(console.error(n),(0,p.of)(null))),(0,v.w)(n=>this.setTokenData(n))):(0,p.of)(null)}getAuthorizationLink(){return this.codeChallenge$.pipe((0,m.U)(t=>{const n=q(16);localStorage.setItem(k,this.codeVerifier),localStorage.setItem(U,n);const i=new URL("https://accounts.google.com/o/oauth2/v2/auth");i.searchParams.append("client_id",this.configuration.client_id),i.searchParams.append("redirect_uri",this.configuration.redirect_uri),i.searchParams.append("response_type","code");const s=this.configuration.scopes.join(" ");i.searchParams.append("scope",s),i.searchParams.append("code_challenge",t),i.searchParams.append("code_challenge_method","S256");const l=new URLSearchParams;return l.append("internal_redirect_uri",this.router.url),l.append("security_token",n),i.searchParams.append("state",l.toString()),i.searchParams.append("prompt","consent"),i.searchParams.append("access_type","offline"),i.toString()}))}requestAccessToken(t,n){const i=localStorage.getItem(U);return i&&i===n?this.http.post(S,{client_id:this.configuration.client_id,client_secret:this.configuration.client_secret,code:t,code_verifier:localStorage.getItem(k),grant_type:"authorization_code",redirect_uri:this.configuration.redirect_uri}).pipe((0,y.K)(s=>(console.error(s),(0,p.of)(null))),(0,m.U)(s=>this.setTokenData(s)),(0,m.U)(s=>!!s)):(0,p.of)(!1)}getAccessToken(){if(this.tokenData){const t=(new Date).getTime();return this.tokenData.expires<t?this.refresh().pipe((0,m.U)(n=>n?n.access_token:null)):(0,p.of)(this.tokenData.access_token)}return(0,p.of)(null)}getAuthorizationHeader(){return this.getAccessToken().pipe((0,m.U)(t=>{var n;return t?`${null===(n=this.tokenData)||void 0===n?void 0:n.token_type} ${t}`:null}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(_.xZ),e.LFG(C.eN),e.LFG(f.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),x=(()=>{class o{constructor(t,n){this.tokenService=t,this.http=n}getAll(){return this.tokenService.getAuthorizationHeader().pipe((0,v.w)(t=>t?this.http.get("https://people.googleapis.com/v1/people/me/connections?personFields=names,phoneNumbers,emailAddresses,photos",{headers:{Authorization:t}}):(0,p.of)(null)),(0,m.U)(t=>(0,_.jV)(t)))}create(t){return this.tokenService.getAuthorizationHeader().subscribe(n=>console.log(n)),this.tokenService.getAuthorizationHeader().pipe((0,v.w)(n=>n?this.http.post("https://people.googleapis.com/v1/people:createContact?personFields=names&sources=READ_SOURCE_TYPE_CONTACT",{names:[{givenName:t.givenName,familyName:t.familyName}],phoneNumbers:t.phoneNumbers,emailAddresses:t.emailAddresses},{headers:{Authorization:n}}):(0,p.of)(null)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Z),e.LFG(C.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var a=c(3075),h=c(6964);function ee(o,r){if(1&o){const t=e.EpF();e.ynx(0,11),e.TgZ(1,"div",12),e.TgZ(2,"div",3),e.TgZ(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6,"::"),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"div",13),e.TgZ(9,"div",14),e._UZ(10,"input",15),e.TgZ(11,"div",16),e.TgZ(12,"span",17),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().onDeletePhone(s)}),e.TgZ(13,"mat-icon"),e._uU(14,"delete_forever"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=r.index;e.Q6J("formGroupName",t),e.xp6(4),e.hij(" Phone ",t+1," ")}}function te(o,r){if(1&o){const t=e.EpF();e.ynx(0,11),e.TgZ(1,"div",12),e.TgZ(2,"div",3),e.TgZ(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6,"::"),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"div",13),e.TgZ(9,"div",14),e._UZ(10,"input",15),e.TgZ(11,"div",16),e.TgZ(12,"span",17),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().onDeleteEmail(s)}),e.TgZ(13,"mat-icon"),e._uU(14,"delete_forever"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=r.index;e.Q6J("formGroupName",t),e.xp6(4),e.hij(" Email ",t+1," ")}}let oe=(()=>{class o{constructor(t){this.fb=t,this.onTouched=()=>{},this.subscriptons=[]}ngOnInit(){this.formGroup=this.fb.group({givenName:[null,a.kI.required],familyName:[null,a.kI.required],phoneNumbers:this.fb.array([]),emailAddresses:this.fb.array([])}),this.valueChanges$=this.formGroup.valueChanges.pipe((0,m.U)(t=>t))}ngOnDestroy(){this.subscriptons.forEach(t=>t.unsubscribe())}writeValue(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}registerOnChange(t){const n=this.valueChanges$.subscribe(t);this.subscriptons.push(n)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.formGroup.disable():this.formGroup.enable()}validate(t){if(!this.formGroup.invalid)return null;let n=Object.assign({},this.formGroup.errors);return["givenName","familyName","phoneNumbers","emailAddresses"].forEach(i=>{const s=this.formGroup.get(i);s.errors&&(n[i]=s.errors)}),n}fgPhoneNumbers(){return this.formGroup.get("phoneNumbers")}fgEmailAddresses(){return this.formGroup.get("emailAddresses")}onAddTelephone(t){t.preventDefault(),this.fgPhoneNumbers().push(this.fb.group({value:""}))}onAddEmail(t){t.preventDefault(),this.fgEmailAddresses().push(this.fb.group({value:""}))}onDeletePhone(t){this.fgPhoneNumbers().removeAt(t)}onDeleteEmail(t){this.fgEmailAddresses().removeAt(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-control"]],features:[e._Bn([{provide:a.JU,useExisting:o,multi:!0},{provide:a.Cf,useExisting:o,multi:!0}])],decls:34,vars:3,consts:[[1,"mb-3"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-lg-2","d-flex","justify-content-between"],[1,"col-lg-10"],["type","text","formControlName","givenName",1,"form-control",3,"blur"],["type","text","formControlName","familyName",1,"form-control",3,"blur"],["type","button",1,"btn","btn-info","d-flex","justify-content-center",3,"click"],["formArrayName","phoneNumbers"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","emailAddresses"],[3,"formGroupName"],[1,"row"],[1,"d-flex"],[1,"input-group","mb-3"],["type","text","formControlName","value",1,"form-control"],[1,"input-group-append"],["id","basic-addon2",1,"input-group-text",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h4",0),e._uU(1,"Create Contact"),e.qZA(),e.ynx(2,1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"label"),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"span"),e._uU(8,"::"),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"input",5),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",2),e.TgZ(12,"div",3),e.TgZ(13,"label"),e._uU(14,"Family Name"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"::"),e.qZA(),e.qZA(),e.TgZ(17,"div",4),e.TgZ(18,"input",6),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.qZA(),e.qZA(),e._UZ(19,"hr"),e.TgZ(20,"div",0),e.TgZ(21,"button",7),e.NdJ("click",function(s){return n.onAddTelephone(s)}),e.TgZ(22,"mat-icon"),e._uU(23,"phone"),e.qZA(),e._uU(24,"Add "),e.qZA(),e.qZA(),e.TgZ(25,"div",8),e.YNc(26,ee,15,2,"ng-container",9),e.qZA(),e.TgZ(27,"div",0),e.TgZ(28,"button",7),e.NdJ("click",function(s){return n.onAddEmail(s)}),e.TgZ(29,"mat-icon"),e._uU(30,"email"),e.qZA(),e._uU(31,"Add "),e.qZA(),e.qZA(),e.TgZ(32,"div",10),e.YNc(33,te,15,2,"ng-container",9),e.qZA(),e.BQk()),2&t&&(e.xp6(2),e.Q6J("formGroup",n.formGroup),e.xp6(24),e.Q6J("ngForOf",n.fgPhoneNumbers().controls),e.xp6(7),e.Q6J("ngForOf",n.fgEmailAddresses().controls))},directives:[a.JL,a.sg,a.Fj,a.JJ,a.u,h.Hw,a.CE,u.sg,a.x0],styles:[""]}),o})(),ne=(()=>{class o{constructor(t){this.fb=t,this.data=null,this.dataChange=new e.vpe,this.cancel=new e.vpe,this.errorMessage=null}ngOnInit(){this.formGroup=this.fb.group({personResource:[this.data,[a.kI.required]]})}onSubmit(){if(this.errorMessage=null,this.formGroup.invalid)this.errorMessage="Invalid form data!!!";else{const t=this.formGroup.get("personResource");this.dataChange.emit(t.value)}}onCancel(){this.cancel.emit()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-form"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",cancel:"cancel"},decls:15,vars:2,consts:[[3,"formGroup","ngSubmit"],["formControlName","personResource"],[1,"row","row-cols-auto","d-flex","justify-content-center"],[1,"col"],["type","submit",1,"btn","btn-success","d-flex","justify-content-center"],["type","submit",1,"btn","btn-danger","d-flex","justify-content-center",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e._UZ(1,"app-google-contacts-control",1),e.TgZ(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.TgZ(7,"mat-icon"),e._uU(8,"save "),e.qZA(),e._uU(9," Save "),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.TgZ(11,"button",5),e.NdJ("click",function(){return n.onCancel()}),e.TgZ(12,"mat-icon"),e._uU(13,"cancel "),e.qZA(),e._uU(14," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.formGroup),e.xp6(3),e.Oqu(n.errorMessage))},directives:[a._Y,a.JL,a.sg,oe,a.JJ,a.u,h.Hw],styles:[""]}),o})(),re=(()=>{class o{constructor(t){this.service=t}ngOnInit(){}onChange(t){var n;console.log(t),null===(n=this.service.create(t))||void 0===n||n.subscribe(i=>{history.back()})}onCancel(){history.back()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-create-page"]],decls:1,vars:0,consts:[[3,"dataChange","cancel"]],template:function(t,n){1&t&&(e.TgZ(0,"app-google-contacts-form",0),e.NdJ("dataChange",function(s){return n.onChange(s)})("cancel",function(){return n.onCancel()}),e.qZA())},directives:[ne],styles:[""]}),o})();const N="https://www.googleapis.com/calendar/v3/calendars/primary/events";let w=(()=>{class o{constructor(t,n){this.tokenService=t,this.http=n}getAll(t){const n=Object.assign({},t);return this.tokenService.getAuthorizationHeader().pipe((0,v.w)(i=>(console.log(i),i?this.http.get(N,{headers:{Authorization:i},params:n}):(0,p.of)(null))),(0,m.U)(i=>(0,_.Qh)(i)))}create(t){return this.tokenService.getAuthorizationHeader().pipe((0,v.w)(n=>n?this.http.post(N,t,{headers:{Authorization:n}}):(0,p.of)(null)),(0,m.U)(n=>(0,_.RC)(n)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Z),e.LFG(C.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ie=(()=>{class o{constructor(t){this.fb=t,this.onTouched=()=>{},this.subscriptons=[]}ngOnInit(){this.formGroup=this.fb.group({summary:[null,[a.kI.required]],start:this.fb.group({dateTime:[null,[a.kI.required]]}),end:this.fb.group({dateTime:[null,[a.kI.required]]})}),this.valueChanges$=this.formGroup.valueChanges.pipe((0,m.U)(t=>{var n,i;return(null===(n=t.start)||void 0===n?void 0:n.dateTime)&&(t.start.dateTime=new Date(t.start.dateTime).toISOString()),(null===(i=t.end)||void 0===i?void 0:i.dateTime)&&(t.end.dateTime=new Date(t.end.dateTime).toISOString()),t}))}ngOnDestroy(){this.subscriptons.forEach(t=>t.unsubscribe())}writeValue(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}registerOnChange(t){const n=this.valueChanges$.subscribe(t);this.subscriptons.push(n)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.formGroup.disable():this.formGroup.enable()}validate(t){if(!this.formGroup.invalid)return null;let n=Object.assign({},this.formGroup.errors);return["summary","start.dateTime","end.dateTime"].forEach(i=>{const s=this.formGroup.get(i);s.errors&&(n[i]=s.errors)}),n}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-events-control"]],features:[e._Bn([{provide:a.JU,useExisting:o,multi:!0},{provide:a.Cf,useExisting:o,multi:!0}])],decls:23,vars:1,consts:[[1,"mb-3"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-lg-2","d-flex","justify-content-between"],[1,"col-lg-10"],["type","text","formControlName","summary",1,"form-control",3,"blur"],[1,"col-lg-5"],["formGroupName","start"],["type","datetime-local","formControlName","dateTime",1,"form-control",3,"blur"],["formGroupName","end"]],template:function(t,n){1&t&&(e.TgZ(0,"h4",0),e._uU(1,"Create Event"),e.qZA(),e.ynx(2,1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"label"),e._uU(6,"Summary"),e.qZA(),e.TgZ(7,"span"),e._uU(8,"::"),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"input",5),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",2),e.TgZ(12,"div",3),e.TgZ(13,"label"),e._uU(14,"Time Range"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"::"),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.ynx(18,7),e.TgZ(19,"input",8),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.BQk(),e.qZA(),e.TgZ(20,"div",6),e.ynx(21,9),e.TgZ(22,"input",8),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.BQk(),e.qZA(),e.qZA(),e.BQk()),2&t&&(e.xp6(2),e.Q6J("formGroup",n.formGroup))},directives:[a.JL,a.sg,a.Fj,a.JJ,a.u,a.x0],styles:[""]}),o})(),se=(()=>{class o{constructor(t){this.fb=t,this.data=null,this.dataChange=new e.vpe,this.cancel=new e.vpe,this.errorMessage=null}ngOnInit(){this.formGroup=this.fb.group({eventResource:[this.data,[a.kI.required]]})}onSubmit(){if(this.errorMessage=null,this.formGroup.invalid)this.errorMessage="Invalid form data!!!";else{const t=this.formGroup.get("eventResource");this.dataChange.emit(t.value)}}onCancel(){this.cancel.emit()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-events-form"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",cancel:"cancel"},decls:15,vars:2,consts:[[3,"formGroup","ngSubmit"],["formControlName","eventResource"],[1,"row","row-cols-auto","d-flex","justify-content-center"],[1,"col"],["type","submit",1,"btn","btn-success","d-flex","justify-content-center"],["type","submit",1,"btn","btn-danger","d-flex","justify-content-center",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e._UZ(1,"app-google-events-control",1),e.TgZ(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.TgZ(7,"mat-icon"),e._uU(8,"save "),e.qZA(),e._uU(9," Save "),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.TgZ(11,"button",5),e.NdJ("click",function(){return n.onCancel()}),e.TgZ(12,"mat-icon"),e._uU(13,"cancel "),e.qZA(),e._uU(14," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.formGroup),e.xp6(3),e.Oqu(n.errorMessage))},directives:[a._Y,a.JL,a.sg,ie,a.JJ,a.u,h.Hw],styles:[""]}),o})(),ae=(()=>{class o{constructor(t){this.service=t}ngOnInit(){}onChange(t){var n;null===(n=this.service.create(t))||void 0===n||n.subscribe(i=>{history.back()})}onCancel(){history.back()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-event-create-page"]],decls:1,vars:0,consts:[[3,"dataChange","cancel"]],template:function(t,n){1&t&&(e.TgZ(0,"app-google-events-form",0),e.NdJ("dataChange",function(s){return n.onChange(s)})("cancel",function(){return n.onCancel()}),e.qZA())},directives:[se],styles:[""]}),o})(),le=(()=>{class o{constructor(t,n,i){this.tokenService=t,this.route=n,this.router=i,this.errorMessage=null}ngOnInit(){const t=this.route.snapshot.queryParams,n=new URLSearchParams(t.state);t.error?this.errorMessage=t.error:t.code&&this.tokenService.requestAccessToken(t.code,n.get("security_token")).subscribe(i=>{i?this.router.navigateByUrl(n.get("internal_redirect_uri")):this.errorMessage="Unknow Error !!!"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(f.gz),e.Y36(f.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-authorization-page"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"google-authorization-page works!"),e.qZA())},styles:[""]}),o})();function ce(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"h6"),e._uU(2),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.displayName)}}function ue(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"div",9),e.TgZ(2,"b",10),e._uU(3,"Email"),e.qZA(),e.TgZ(4,"b",11),e._uU(5,"::"),e.qZA(),e.TgZ(6,"p",12),e._uU(7),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.xp6(7),e.Oqu(t.value)}}function ge(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"div",9),e.TgZ(2,"b",10),e._uU(3,"Phone"),e.qZA(),e.TgZ(4,"b",11),e._uU(5,"::"),e.qZA(),e.TgZ(6,"p",12),e._uU(7),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.xp6(7),e.Oqu(t.canonicalForm)}}function pe(o,r){if(1&o&&(e.TgZ(0,"a",4),e.TgZ(1,"div",5),e._UZ(2,"img",6),e.TgZ(3,"div",7),e.YNc(4,ce,3,1,"div",8),e.YNc(5,ue,8,1,"div",8),e.YNc(6,ge,8,1,"div",8),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.photos[0].url,e.LSH),e.xp6(2),e.Q6J("ngForOf",t.names),e.xp6(1),e.Q6J("ngForOf",t.emailAddresses),e.xp6(1),e.Q6J("ngForOf",t.phoneNumbers)}}function me(o,r){if(1&o&&(e.TgZ(0,"div",2),e.YNc(1,pe,7,4,"a",3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data.connections)}}function de(o,r){1&o&&(e.TgZ(0,"div"),e._uU(1,"loading..."),e.qZA())}let fe=(()=>{class o{constructor(){this.data=null}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-list"]],inputs:{data:"data"},decls:3,vars:2,consts:[["class","google-list list-contact",4,"ngIf","ngIfElse"],["loading",""],[1,"google-list","list-contact"],["target","_blank","class","list-group-item list-group-item-action",4,"ngFor","ngForOf"],["target","_blank",1,"list-group-item","list-group-item-action"],[1,"contact-item","d-flex"],[1,"img-contact",3,"src"],[1,"contact-item-detail"],[4,"ngFor","ngForOf"],[1,"row","contact-label"],[1,"col-md-1"],[1,"col-sm-1","colon-contact-list"],[1,"col"]],template:function(t,n){if(1&t&&(e.YNc(0,me,2,1,"div",0),e.YNc(1,de,2,0,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",n.data)("ngIfElse",i)}},directives:[u.O5,u.sg],styles:[""]}),o})(),he=(()=>{class o{constructor(t){this.service=t}ngOnInit(){this.data$=this.service.getAll()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-list-page"]],decls:15,vars:3,consts:[[1,"row"],[1,"col-lg-9"],[1,"col","btn-action"],["routerLink","create",1,"btn","btn-outline-dark","mb-3","btn-create"],["href","https://contacts.google.com/",1,"btn","btn-outline-dark","mb-3","btn-create"],[3,"data"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4"),e._uU(3,"List Contacts"),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"a",3),e.TgZ(6,"mat-icon"),e._uU(7,"people"),e.qZA(),e._uU(8," Create"),e.qZA(),e.TgZ(9,"a",4),e.TgZ(10,"mat-icon"),e._uU(11,"launch"),e.qZA(),e._uU(12," Web"),e.qZA(),e.qZA(),e._UZ(13,"app-google-contacts-list",5),e.ALo(14,"async"),e.qZA()),2&t&&(e.xp6(13),e.Q6J("data",e.lcZ(14,1,n.data$)))},directives:[f.yS,h.Hw,fe],pipes:[u.Ov],styles:[""]}),o})();function ve(o,r){if(1&o&&(e.TgZ(0,"a",4),e.TgZ(1,"h5"),e._uU(2),e.qZA(),e.TgZ(3,"small"),e._uU(4),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.Q6J("href",t.htmlLink,e.LSH),e.xp6(2),e.Oqu(t.summary),e.xp6(2),e.AsE("",t.start.dateTime," - ",t.end.dateTime,"")}}function _e(o,r){if(1&o&&(e.TgZ(0,"div",2),e.YNc(1,ve,5,4,"a",3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data.items)}}function Ze(o,r){1&o&&(e.TgZ(0,"div"),e._uU(1,"loading..."),e.qZA())}let Te=(()=>{class o{constructor(){this.data=null}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-events-list"]],inputs:{data:"data"},decls:3,vars:2,consts:[["class","google-list",4,"ngIf","ngIfElse"],["loading",""],[1,"google-list"],["target","_blank","class","list-group-item list-group-item-action",3,"href",4,"ngFor","ngForOf"],["target","_blank",1,"list-group-item","list-group-item-action",3,"href"]],template:function(t,n){if(1&t&&(e.YNc(0,_e,2,1,"div",0),e.YNc(1,Ze,2,0,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",n.data)("ngIfElse",i)}},directives:[u.O5,u.sg],styles:[""]}),o})(),Ce=(()=>{class o{constructor(t){this.service=t}ngOnInit(){const t=new Date;this.data$=this.service.getAll({singleEvents:!0,orderBy:"startTime",timeMin:t.toISOString()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-evevts-list-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-9","page-list-event"],[1,"col"],["routerLink","create",1,"btn","btn-outline-dark","mb-3","btn-create"],[3,"data"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4"),e._uU(3,"List Events"),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"a",3),e.TgZ(6,"mat-icon"),e._uU(7,"event"),e.qZA(),e._uU(8," Create Event"),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"app-google-events-list",4),e.ALo(10,"async")),2&t&&(e.xp6(9),e.Q6J("data",e.lcZ(10,1,n.data$)))},directives:[f.yS,h.Hw,Te],pipes:[u.Ov],styles:[""]}),o})();function Ae(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"button",10),e.TgZ(2,"a",11),e.ALo(3,"async"),e.TgZ(4,"mat-icon"),e._uU(5,"login "),e.qZA(),e._uU(6," Google"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("href",e.lcZ(3,1,t.authorizationLinks$),e.LSH)}}function be(o,r){1&o&&e._UZ(0,"router-outlet")}const ye=[{path:"authorization",component:le},{path:"",component:(()=>{class o{constructor(t){this.TokenService=t}ngOnInit(){this.tokenReady$=this.TokenService.tokenReady$,this.authorizationLinks$=this.TokenService.getAuthorizationLink()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google"]],decls:16,vars:5,consts:[[1,"cmp","mb-3"],[1,"mb-3"],[1,"row"],[1,"cmp-nav"],[1,"nav"],[1,"nav-item"],["routerLink","./events",1,"nav-link","btn","btn-link","me-3"],["routerLink","./contacts",1,"nav-link","btn","btn-link","me-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"btn","btn-login"],[3,"href"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h2",1),e._uU(2,"Google"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"nav",3),e.TgZ(5,"ul",4),e.TgZ(6,"li",5),e.TgZ(7,"a",6),e._uU(8,"Events"),e.qZA(),e.qZA(),e.TgZ(9,"li",5),e.TgZ(10,"a",7),e._uU(11,"Contacts"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.ynx(12,8),e.ALo(13,"async"),e.YNc(14,Ae,7,3,"div",9),e.YNc(15,be,1,0,"router-outlet",9),e.BQk()),2&t&&(e.xp6(12),e.Q6J("ngSwitch",e.lcZ(13,3,n.tokenReady$)),e.xp6(2),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0))},directives:[f.yS,u.RF,u.n9,h.Hw,f.lC],pipes:[u.Ov],styles:[""]}),o})(),children:[{path:"",redirectTo:"events",pathMatch:"full"},{path:"events",component:Ce},{path:"events/create",component:ae},{path:"",redirectTo:"contacts",pathMatch:"full"},{path:"contacts",component:he},{path:"contacts/create",component:re}]}];let Ge=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.Bz.forChild(ye)],f.Bz]}),o})(),qe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez,a.UX,h.Ps]]}),o})(),ke=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez,Ge,h.Ps,qe,a.UX]]}),o})()}}]);